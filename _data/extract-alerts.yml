alerts:
  - id: "TASK_TERMINATED"
    type: "INFO"
    description: "This alert is raised when a task terminates."
    msg: "Task {{.Service}}.{{.Task}} terminated on machine {{.Machine}}"
  - id: "TASK_FLAPPING"
    type: "CRITICAL"
    description: "This alert is raised when a task is crashing repeatedly. The service is evaluted across the whole cluster. So, if a service crashes 5 times in a day across all nodes in the cluster, this alert is generated."
    msg: "Task {{.Service}}.{{.Task}} terminated {{._actual_num_occurrences}} times in last {{._earliest_duration_str}}"
  - id: "SERVICE_UNIT_ERROR"
    type: CRITICAL"
    description: "This alert is raised when a service unit is in an error state and is not able to start. This typically happens due to a machine level problem such as low disk space."
    msg: "Service {{.Service}} is in error state on machine {{.Machine}}"
  - id: "OREO_TERMINATED"
    type: "CRITICAL"
    description: "This alert is raised when the Oreo daemon on a machine terminates due to an error. This typically happens due to an error accessing Zookeeper, HDFS, or a hardware issue."
    msg: "Oreo terminated on machine {{.Machine}}"
  - id: "DISK_SPACE"
    type: "WARNING"
    description: "Raised when a disk is low on available disk space. Valid only in the 3.2 version of ThoughtSpot."
    msg: "Machine {{.Machine}} has less than {{.Perc}}% disk space free"
  - id: "ROOT_DISK_SPACE"
    type: "WARNING"
    description: "Raised when a machine is low on available disk space on root partition."
    msg: "Machine {{.Machine}} has less than {{.Perc}}% disk space free on root partition"
  - id: "BOOT_DISK_SPACE"
    type: "WARNING"
    description: "Raised when a machine is low on available disk space on boot partition."
    msg: "Machine {{.Machine}} has less than {{.Perc}}% disk space free on boot partition"
  - id: "UPDATE_DISK_SPACE"
    type: "WARNING"
    description: "Raised when a machine is low on available disk space on update partition."
    msg: "Machine {{.Machine}} has less than {{.Perc}}% disk space free on update partition"
  - id: "EXPORT_DISK_SPACE"
    type: "WARNING"
    description: "Raised when a machine is low on available disk space on export partition."
    msg: "Machine {{.Machine}} has less than {{.Perc}}% disk space free on export partition"
  - id: "HDFS_NAMENODE_DISK_SPACE"
    type: "WARNING"
    description: "Raised when a machine is low on available disk space on HDFS namenode drive."
    msg: "Machine {{.Machine}} has less than {{.Perc}}% disk space free on HDFS namenode drive"
  - id: "HDFS_DISK_SPACE"
    type: "CRITICAL"
    description: "Raised when a HDFS cluster is low on total available disk space."
    msg: "HDFS has less than {{.Perc}}% space free"
  - id: "MEMORY"
    type: "WARNING"
    description: "Raised when a machine is low on free memory."
    msg: "Machine {{.Machine}} has less than {{.Perc}}% memory free"
  - id: "OS_USERS"
    type: "WARNING"
    description: "Raised when a machine has too many users logged in."
    msg: "Machine {{.Machine}} has more than {{.Num}} logged in users"
  - id: "OS_PROCS"
    type: "WARNING"
    description: "Raised when a machine has more too many processes."
    msg: "Machine {{.Machine}} has more than {{.Num}} processes"
  - id: "SSH"
    type: "WARNING"
    description: "Raised when a machine has more than 600 processes."
    msg: "Machine {{.Machine}} doesn't have an active SSH server"
  - id: "DISK_ERROR"
    type: "INFO"
    description: "Raised when a machine has disk errors."
    msg: "Machine {{.Machine}} has disk errors"
  - id: "DISK_ERROR_EXTERNAL"
    type: "WARNING"
    description: "Raised when more than 2 disk errors happen in a day."
    msg: "Machine {{.Machine}} has disk errors"
  - id: "ZK_INACCESSIBLE"
    type: "CRITICAL"
    description: "Raised when Zookeeper is inaccessible."
    msg: "Zookeeper is not accessible"
  - id: "ZK_FD_COUNT"
    type: "WARNING"
    description: "Raised when there are too many open Zookeeper files."
    msg: "Zookeeper has more than {{.Num}} open file descriptors"
  - id: "ZK_EPHEMERAL_COUNT"
    type: "WARNING"
    description: "Raised when there are too many Zookeeper ephemeral files."
    msg: "Zookeeper has more than {{.Num}} ephemeral files"
  - id: "ZK_AVG_LATENCY"
    type: "INFO"
    description: "Raised when average Zookeeper latency is above a threshold."
    msg: "Average Zookeeper latency is more than {{.Num}} msec"
  - id: "ZK_MAX_LATENCY"
    type: "INFO"
    description: "Raised when max Zookeeper latency is above a threshold."
    msg: "Max Zookeeper latency is more than {{.Num}} msec"
  - id: "ZK_MIN_LATENCY"
    type: "INFO"
    description: "Raised when min Zookeeper latency is above a threshold."
    msg: "Min Zookeeper latency is more than {{.Num}} msec"
  - id: "ZK_OUTSTANDING_REQUESTS"
    type: "INFO"
    description: "Raised when there are too many outstanding Zookeeper requests."
    msg: "Number of outstanding Zookeeper requests exceeds {{.Num}}"
  - id: "ZK_NUM_WATCHERS"
    type: "INFO"
    description: "Raised when there are too many Zookeeper watchers."
    msg: "Number of Zookeeper watchers exceeds {{.Num}}"
  - id: "HOST_DOWN"
    type: "WARNING"
    description: "Raised when a host is down."
    msg: "{{.Machine}} is down"
  - id: "TASK_UNREACHABLE"
    type: "WARNING"
    description: "Raised when a task is unreachable over HTTP."
    msg: "{{.ServiceDesc}} on {{.Machine}} is unreachable over HTTP"
  - id: "TASK_NOT_RUNNING"
    type: "WARNING"
    description: "Raised when a service task is not running on any machine in the cluster."
    msg: "{{.ServiceDesc}} is not running"
  - id: "MASTER_ELECTION"
    type: "INFO"
    description: "Raised when a new Orion Master is elected."
    msg: "{{.Machine}} elected as Orion Master"
  - id: "PERIODIC_BACKUP"
    type: "INFO"
    description: "Raised when periodic backup fails."
    msg: "{{.Process}} periodic backup for policy {{.Name}} failed."
  - id: "PERIODIC_BACKUP_FLAPPING"
    type: "CRITICAL"
    description: "This alert is raised when a periodic backup failed repeatedly."
    msg: "Periodic backup failed {{._actual_num_occurrences}} times in last {{._earliest_duration_str}}"
  - id: "PERIODIC_SNAPSHOT"
    type: "INFO"
    description: "Raised when a periodic snapshot fails."
    msg: "{{.Process}} periodic snapshot {{.Name}} failed."
  - id: "PERIODIC_SNAPSHOT_FLAPPING"
    type: "CRITICAL"
    description: "This alert is raised when periodic snapshot failed repeatedly."
    msg: "Periodic snapshot failed {{._actual_num_occurrences}} times in last {{._earliest_duration_str}}"
  - id: "HDFS_CORRUPTION"
    type: "INFO"
    description: "Raised when HDFS root directory is corrupted."
    msg: "HDFS root directory is in a corrupted state."
  - id: "APPLICATION_INVALID_STATE"
    type: "INFO"
    description: "Raised when Application raises invalid state alert."
    msg: "{{.Service}}.{{.Task}} on {{.Machine}} at location {{.Location}}"
  - id: "APPLICATION_INVALID_STATE_EXTERNAL"
    type: "CRITICAL"
    description: "Raised when Application raises invalid state alert."
    msg: "{{.Service}}.{{.Task}} on {{.Machine}} at location {{.Location}}"
  - id: "TIMELY_JOB_RUN_ERROR"
    type: "ERROR"
    description: "Raised when a job run fails."
    msg: "Job run {{.Message}}"
  - id: "UPDATE_START"
    type: "INFO"
    description: "Raised when update starts."
    msg: "Starting update of ThoughtSpot cluster {{.Cluster}}"
  - id: "UPDATE_END"
    type: "INFO"
    description: "Raised when update completes."
    msg: "Finished update of ThoughtSpot cluster {{.Cluster}} to release {{.Release}}"
  - id: "TIMELY_ERROR"
    type: "ERROR"
    description: "Raised when a job manager runs into an inconsistent state."
    msg: "Job manager {{.Message}}"
